"use strict";/* built: Thu Nov 07 2013 00:49:46 GMT-0500 (EST) */var undertone = window.undertone || function(){};(function(window, myWin){
var l,p=window;
function r(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}var t="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),u=0;function v(a,b){var d=a.split("."),c=window||p;d[0]in c||!c.execScript||c.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)d.length||void 0===b?c=c[f]?c[f]:c[f]={}:c[f]=b}function w(a,b){function d(){}d.prototype=b.prototype;a.X=b.prototype;a.prototype=new d}
function aa(a){function b(){c=!0;for(var b=0;b<f.length;b++)d(f[b].fn,f[b].args||[],f[b].ctxt);f=[]}function d(b,d,c){try{c||(c=a.g),b.apply(c,d||[])}catch(f){}}var c=!1,f=[];a.g.addEventListener?a.b.addEventListener("DOMContentLoaded",function(){b()},!1):function(){if(!a.b.getElementsByTagName("body")[0])setTimeout(arguments.callee,0);else if(a.b.uniqueID||!a.b.expando){var d=a.b.createElement("document:ready");try{d.doScroll("left"),b()}catch(c){setTimeout(arguments.callee,0)}}}();return{ready:function(e,
g,h){a.o=a.b.getElementsByTagName("body")[0];if(a.Y||!c&&!a.$){var k=!0;try{var m=a.b.createElement("div");a.o.appendChild(m);b();a.o.removeChild(m)}catch(q){k=!1}c=k}c?d(e,g,h):f[f.length]={fn:e,ctxt:h,args:g}}}}
function ba(){this.g=this.o=this.b=null;this.P="c-";this.Q="BACKGROUND";this.R="__utc__=1";this.N=function(){return this.J&&this.b.domain&&this.b.domain!=this.g.location.host?!0:!1};this.h="__UT__";this.J=!1;if("undefined"==typeof window.O||null==window.O)try{this.g=window,this.b="undefined"!=typeof window.parent.document?window.parent.document:window.document}catch(a){this.g=window,this.b=window.document}else this.g=window.Z,this.b=window.O;this.o=this.b.getElementsByTagName("body")[0];this.J=-1!=
this.g.navigator.appVersion.indexOf("MSIE")?!0:!1}var x,y,z,A;function ca(){return p.navigator?p.navigator.userAgent:null}A=z=y=x=!1;var B;if(B=ca()){var da=p.navigator;x=0==B.indexOf("Opera");y=!x&&-1!=B.indexOf("MSIE");z=!x&&-1!=B.indexOf("WebKit");A=!x&&!z&&"Gecko"==da.product}var ea=x,C=y,D=A,E=z;function fa(){var a=p.document;return a?a.documentMode:void 0}var F;
a:{var G="",H;if(ea&&p.opera)var I=p.opera.version,G="function"==typeof I?I():I;else if(D?H=/rv\:([^\);]+)(\)|;)/:C?H=/MSIE\s+([^\);]+)(\)|;)/:E&&(H=/WebKit\/(\S+)/),H)var ga=H.exec(ca()),G=ga?ga[1]:"";if(C){var ha=fa();if(ha>parseFloat(G)){F=String(ha);break a}}F=G}var ia={};
function J(a){var b;if(!(b=ia[a])){b=0;for(var d=String(F).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),c=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,c.length),e=0;0==b&&e<f;e++){var g=d[e]||"",h=c[e]||"",k=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var q=k.exec(g)||["","",""],n=m.exec(h)||["","",""];if(0==q[0].length&&0==n[0].length)break;b=((0==q[1].length?0:parseInt(q[1],10))<(0==n[1].length?0:parseInt(n[1],10))?-1:(0==q[1].length?0:parseInt(q[1],
10))>(0==n[1].length?0:parseInt(n[1],10))?1:0)||((0==q[2].length)<(0==n[2].length)?-1:(0==q[2].length)>(0==n[2].length)?1:0)||(q[2]<n[2]?-1:q[2]>n[2]?1:0)}while(0==b)}b=ia[a]=0<=b}return b}var ja=p.document,ka=ja&&C?fa()||("CSS1Compat"==ja.compatMode?parseInt(F,10):5):void 0;function la(){}var ma=0;l=la.prototype;l.key=0;l.i=!1;l.B=!1;
l.k=function(a,b,d,c,f,e){if("function"==r(a))this.I=!0;else if(a&&a.handleEvent&&"function"==r(a.handleEvent))this.I=!1;else throw Error("Invalid listener argument");this.l=a;this.L=b;this.src=d;this.type=c;this.capture=!!f;this.H=e;this.B=!1;this.key=++ma;this.i=!1};l.handleEvent=function(a){return this.I?this.l.call(this.H||this.src,a):this.l.handleEvent.call(this.l,a)};var K;(K=!C)||(K=C&&9<=ka);var na=K,oa=C&&!J("9");!E||J("528");D&&J("1.9b")||C&&J("8")||ea&&J("9.5")||E&&J("528");
D&&!J("8")||C&&J("9");var L=Array.prototype,pa=L.indexOf?function(a,b,d){return L.indexOf.call(a,b,d)}:function(a,b,d){d=null==d?0:0>d?Math.max(0,a.length+d):d;if("string"==typeof a)return"string"==typeof b&&1==b.length?a.indexOf(b,d):-1;for(;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1};function M(a,b){this.type=a;this.currentTarget=this.target=b}M.prototype.s=!1;M.prototype.defaultPrevented=!1;M.prototype.preventDefault=function(){this.defaultPrevented=!0};
function P(a){P[" "](a);return a}P[" "]=function(){};function Q(a,b){a&&this.k(a,b)}w(Q,M);l=Q.prototype;l.target=null;l.relatedTarget=null;l.offsetX=0;l.offsetY=0;l.clientX=0;l.clientY=0;l.screenX=0;l.screenY=0;l.button=0;l.keyCode=0;l.charCode=0;l.ctrlKey=!1;l.altKey=!1;l.shiftKey=!1;l.metaKey=!1;l.d=null;
l.k=function(a,b){var d=this.type=a.type;M.call(this,d);this.target=a.target||a.srcElement;this.currentTarget=b;var c=a.relatedTarget;if(c){if(D){var f;a:{try{P(c.nodeName);f=!0;break a}catch(e){}f=!1}f||(c=null)}}else"mouseover"==d?c=a.fromElement:"mouseout"==d&&(c=a.toElement);this.relatedTarget=c;this.offsetX=E||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=E||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==d?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.d=a;a.defaultPrevented&&this.preventDefault();delete this.s};
l.preventDefault=function(){Q.X.preventDefault.call(this);var a=this.d;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,oa)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var R={},S={},T={},U={};
function V(a,b,d,c,f){if(b)if("array"==r(b))for(var e=0;e<b.length;e++)V(a,b[e],d,c,f);else{c=!!c;var g=S;b in g||(g[b]={c:0,f:0});g=g[b];c in g||(g[c]={c:0,f:0},g.c++);var g=g[c],h=a[t]||(a[t]=++u),k;g.f++;if(g[h])for(k=g[h],e=0;e<k.length;e++){if(g=k[e],g.l==d&&g.H==f){if(g.i)break;return}}else k=g[h]=[],g.c++;e=qa();e.src=a;g=new la;g.k(d,e,a,b,c,f);d=g.key;e.key=d;k.push(g);R[d]=g;T[h]||(T[h]=[]);T[h].push(g);a.addEventListener?a!=p&&a.T||a.addEventListener(b,e,c):a.attachEvent(b in U?U[b]:U[b]=
"on"+b,e)}else throw Error("Invalid event type");}function qa(){var a=ra,b=na?function(d){return a.call(b.src,b.key,d)}:function(d){d=a.call(b.src,b.key,d);if(!d)return d};return b}function sa(a,b,d,c){if(!c.m&&c.K){for(var f=0,e=0;f<c.length;f++)c[f].i?c[f].L.src=null:(f!=e&&(c[e]=c[f]),e++);c.length=e;c.K=!1;0==e&&(delete S[a][b][d],S[a][b].c--,0==S[a][b].c&&(delete S[a][b],S[a].c--),0==S[a].c&&delete S[a])}}
function ta(a,b,d,c,f){var e=1;b=b[t]||(b[t]=++u);if(a[b]){a.f--;a=a[b];a.m?a.m++:a.m=1;try{for(var g=a.length,h=0;h<g;h++){var k=a[h];k&&!k.i&&(e&=!1!==W(k,f))}}finally{a.m--,sa(d,c,b,a)}}return Boolean(e)}
function W(a,b){if(a.B){var d=a.key;if(R[d]){var c=R[d];if(!c.i){var f=c.src,e=c.type,g=c.L,h=c.capture;f.removeEventListener?f!=p&&f.T||f.removeEventListener(e,g,h):f.detachEvent&&f.detachEvent(e in U?U[e]:U[e]="on"+e,g);f=f[t]||(f[t]=++u);if(T[f]){var g=T[f],k=pa(g,c);0<=k&&L.splice.call(g,k,1);0==g.length&&delete T[f]}c.i=!0;if(c=S[e][h][f])c.K=!0,sa(e,h,f,c);delete R[d]}}}return a.handleEvent(b)}
function ra(a,b){if(!R[a])return!0;var d=R[a],c=d.type,f=S;if(!(c in f))return!0;var f=f[c],e,g;if(!na){var h;if(!(h=b))a:{h=["window","event"];for(var k=p;e=h.shift();)if(null!=k[e])k=k[e];else{h=null;break a}h=k}e=h;h=!0 in f;k=!1 in f;if(h){if(0>e.keyCode||void 0!=e.returnValue)return!0;a:{var m=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(q){m=!0}if(m||void 0==e.returnValue)e.returnValue=!0}}m=new Q;m.k(e,this);e=!0;try{if(h){for(var n=[],N=m.currentTarget;N;N=N.parentNode)n.push(N);g=f[!0];
g.f=g.c;for(var s=n.length-1;!m.s&&0<=s&&g.f;s--)m.currentTarget=n[s],e&=ta(g,n[s],c,!0,m);if(k)for(g=f[!1],g.f=g.c,s=0;!m.s&&s<n.length&&g.f;s++)m.currentTarget=n[s],e&=ta(g,n[s],c,!1,m)}else e=W(d,m)}finally{n&&(n.length=0)}return e}c=new Q(b,this);return e=W(d,c)}
function ua(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function va(a){var b=[];X(new wa,a,b);return b.join("")}function wa(){this.n=void 0}
function X(a,b,d){switch(typeof b){case "string":xa(b,d);break;case "number":d.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":d.push(b);break;case "undefined":d.push("null");break;case "object":if(null==b){d.push("null");break}if("array"==r(b)){var c=b.length;d.push("[");for(var f="",e=0;e<c;e++)d.push(f),f=b[e],X(a,a.n?a.n.call(b,String(e),f):f,d),f=",";d.push("]");break}d.push("{");c="";for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f=b[e],"function"!=typeof f&&(d.push(c),xa(e,
d),d.push(":"),X(a,a.n?a.n.call(b,e,f):f,d),c=","));d.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var Y={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},ya=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function xa(a,b){b.push('"',a.replace(ya,function(b){if(b in Y)return Y[b];var a=b.charCodeAt(0),f="\\u";16>a?f+="000":256>a?f+="00":4096>a&&(f+="0");return Y[b]=f+a.toString(16)}),'"')}function za(){ba.call(this);this.e={};this.q=!0;this.N=function(){return-1<myWin.location.href.indexOf(this.R)};this.t=this.N()?window.top:window.parent;this.r="";this.j=[];this.F=!0;this.u=this.t!=window;this.v=4;this.p=this.w=!1;this.S={}}w(za,ba);
function $(){this.a=new za;this.D=new aa(this.a);var a=this;this.U=function(b){if(b&&b.d){var a="CLICK";b=b.d;b=b.target||b.srcElement;var c="",f="",e="",g=-1;if(b&&(b.id&&(c=b.id,b.className&&(f=b.className),e=b.getAttribute("data-uthref"),g=b.getAttribute("data-utclickid"),g=null!=g&&0<g.length?parseInt(g):-1),!c)){var h=this.G(b);null!==h&&(c=h.id,f=h.className,e=b.getAttribute("data-uthref"),g=b.getAttribute("data-utclickid"),g=null!=g&&0<g.length?parseInt(g):-1)}c||(c=this.a.Q,e=null,f="",g=
-1);e=null!=e?e.replace(/^\s|\s$/g,""):"";if(null!=e&&7<e.length)g=-1,a="REDIRECT",this.M(e),0==c.indexOf("tweetButton")?a="TWEET_BUTTON_REDIRECT":0==c.indexOf("tweetLink")&&(a="TWEET_LINK_REDIRECT"),c=encodeURIComponent(e);else if(0>g&&-1<f.indexOf("redirect"))for(var h=f.split(" "),k=0,m=!1;k<h.length&&!m;k++)0===h[k].indexOf("redirect")&&(m=!0,g=parseInt(h[k].replace("redirect","")));this.p&&"ut_close"!=c&&"ut_open"!=c&&!e&&-1==g&&this.C(b,"data-clickable")&&(this.redirectByClickID(this.p),a="REDIRECT",
c="BACKGROUND");0<=g&&(this.redirectByClickID(g),a="REDIRECT");0==c.indexOf("utvp_")&&(c=c.split("_"),c.length-=1,c=c.join("_"));"ut_close"==c?(this.sendMessage("CLICK",{target:{id:"CLOSE_BUTTON",className:""}}),this.sendMessage("closed"),this.A()):"ut_open"==c?(this.sendMessage("CLICK",{target:{id:"OPEN_BUTTON",className:""}}),this.sendMessage("opened")):this.sendMessage(a,{target:{id:c,className:f}})}};this.G=function(b,a){a="undefined"!=typeof a?a:0;return b&&b.id?b:a++<this.a.v&&b.parentNode?
this.G(b.parentNode,a):null};this.C=function(b,a,c){c="undefined"!=typeof c?c:0;return b&&"false"==b.getAttribute(a)?!1:c++<this.a.v&&b.parentNode?this.C(b.parentNode,a,c):!0};this.redirectByClickID=function(a){a=parseInt(a.toString());this.M(this.clickTag(--a))};this.clickTag=function(a){return this.a.j&&"undefined"!=typeof this.a.j[a]?this.a.j[a]:""};this.M=function(a){a=a.toString();this.a.F&&(a=encodeURIComponent(a));this.a.r&&a.length&&window.open(this.a.r+a,"_blank")};this.sendMessage=function(a,
d){return this.a.u&&""!=a?(a=this.a.h+a,d?this.a.t.postMessage(va({message:a,data:d}),"*"):this.a.t.postMessage(a,"*"),1):0};this.V=function(b){if(b&&b.d)if(b=b.d,b.data==this.a.h+"close")a.A(),window.closeAd();else if(b.data==this.a.h+"expanded")try{window.startAd(),a.p=window.ssConfig.allClickable}catch(d){}else if(b.data==this.a.h+"noScroll")this.a.q=!1;else if(b.data==this.a.h+"scroll")this.a.q=!0;else try{if(-1<b.data.indexOf("{")){var c=ua(b.data);c.message&&c.message==this.a.h+"Info"&&(this.a.r=
c.clickBase,this.a.j=c.clickTags,this.a.F=c.encodeClickUrl,c.isFullPageFlex&&(this.a.w=c.isFullPageFlex),this.a.S=c,this.sendMessage("start"))}else try{"function"===typeof window.formatData&&window.formatData(b.data)}catch(f){}}catch(e){}};this.trackEvent=function(a,d,c){c||(a=this.a.P+a);this.sendMessage(a,{target:{id:d,className:""}})};this.ready=function(a,d,c){this.D.ready(a,d,c)};this.isFullPageFlex=function(){return this.a.w};this.W=function(a){!this.a.q&&a&&a.d&&a.d.preventDefault()};this.A=
function(){var a=0;if(this.a.e.close)for(;a<this.a.e.close.length;){try{this.a.e.close[a]()}catch(d){}a++}};this.addEventListener=function(a,d){this.a.e[a]&&this.a.e[a].length?this.a.e[a].push(d):this.a.e[a]=[d]};this.D.ready(function(){try{V(window.document.getElementsByTagName("body")[0],"click",function(b){a.U(b)},!1),V(window,"message",function(b){a.V(b)},!1),V(window.document,"touchmove",function(b){a.W(b)},!1),a.a.u&&a.sendMessage("ready")||window.startAd&&window.startAd()}catch(b){}})}
v("undertone.Creative",$);v("undertone.Creative.trackEvent",$.trackEvent);v("undertone.Creative.isFullPageFlex",$.isFullPageFlex);v("undertone.Creative.ready",$.ready);v("undertone.Creative.redirectByClickID",$.redirectByClickID);v("undertone.Creative.addEventListener",$.addListener);var Aa=new $;v("undertone.creative",Aa);
}(window.ut_win||window, window));
